
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>2017-3月工作笔记 | Eric&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Eric Li">
    

    
    <meta name="description" content="3月1日 天气:晴想接手去继续搞一下web的项目，但是好像还是搞不定，明天继续加油。今天的工作，主要就是要去删除界面的信息，但是我对html的界面不熟悉，做起来还是磕磕碰碰的。js操作html，以及回调的时候处理逻辑，都要通通熟悉，才能做好界面的处理。上代码，目前初步去做删除的方法：
1234567891011121314151617181920212223242526272829303132f">
<meta property="og:type" content="article">
<meta property="og:title" content="2017-3月工作笔记">
<meta property="og:url" content="http://yoursite.com/2017/04/10/2017/2017-3月工作笔记/index.html">
<meta property="og:site_name" content="Eric's Blog">
<meta property="og:description" content="3月1日 天气:晴想接手去继续搞一下web的项目，但是好像还是搞不定，明天继续加油。今天的工作，主要就是要去删除界面的信息，但是我对html的界面不熟悉，做起来还是磕磕碰碰的。js操作html，以及回调的时候处理逻辑，都要通通熟悉，才能做好界面的处理。上代码，目前初步去做删除的方法：
1234567891011121314151617181920212223242526272829303132f">
<meta property="og:updated_time" content="2018-01-10T14:21:20.496Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2017-3月工作笔记">
<meta name="twitter:description" content="3月1日 天气:晴想接手去继续搞一下web的项目，但是好像还是搞不定，明天继续加油。今天的工作，主要就是要去删除界面的信息，但是我对html的界面不熟悉，做起来还是磕磕碰碰的。js操作html，以及回调的时候处理逻辑，都要通通熟悉，才能做好界面的处理。上代码，目前初步去做删除的方法：
1234567891011121314151617181920212223242526272829303132f">
<meta name="twitter:creator" content="@ericli1235">
<link rel="publisher" href="Eric1235">

    
    <link rel="alternative" href="/atom.xml" title="Eric&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Eric&#39;s Blog" title="Eric&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Eric&#39;s Blog">Eric&#39;s Blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/10/2017/2017-3月工作笔记/" title="2017-3月工作笔记" itemprop="url">2017-3月工作笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/Eric1235?rel=author" title="Eric Li" target="_blank" itemprop="author">Eric Li</a>
		
  <p class="article-time">
    <time datetime="2017-04-10T02:41:06.000Z" itemprop="datePublished"> 发表于 2017-04-10</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#3月1日-天气-晴"><span class="toc-number">1.</span> <span class="toc-text">3月1日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月2日-天气-晴"><span class="toc-number">2.</span> <span class="toc-text">3月2日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月3日-天气-晴"><span class="toc-number">3.</span> <span class="toc-text">3月3日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月6日-天气-阴"><span class="toc-number">4.</span> <span class="toc-text">3月6日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月7日-天气-阴"><span class="toc-number">5.</span> <span class="toc-text">3月7日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月8日-天气-阴"><span class="toc-number">6.</span> <span class="toc-text">3月8日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月9日-天气-阴"><span class="toc-number">7.</span> <span class="toc-text">3月9日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月10日-天气-阴"><span class="toc-number">8.</span> <span class="toc-text">3月10日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月13日-天气-阴"><span class="toc-number">9.</span> <span class="toc-text">3月13日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月14日-天气-晴"><span class="toc-number">10.</span> <span class="toc-text">3月14日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月15日-天气-阴"><span class="toc-number">11.</span> <span class="toc-text">3月15日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月16日-天气-阴"><span class="toc-number">12.</span> <span class="toc-text">3月16日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月17日-天气-晴"><span class="toc-number">13.</span> <span class="toc-text">3月17日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月18日-天气-雨"><span class="toc-number">14.</span> <span class="toc-text">3月18日 天气:雨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月19日-天气-雨"><span class="toc-number">15.</span> <span class="toc-text">3月19日 天气:雨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月21日-天气-晴"><span class="toc-number">16.</span> <span class="toc-text">3月21日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月22日-天气-阴"><span class="toc-number">17.</span> <span class="toc-text">3月22日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月23日-天气-阴"><span class="toc-number">18.</span> <span class="toc-text">3月23日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月27日-天气-阴"><span class="toc-number">19.</span> <span class="toc-text">3月27日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月28日-天气-阴"><span class="toc-number">20.</span> <span class="toc-text">3月28日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月29日-天气-阴"><span class="toc-number">21.</span> <span class="toc-text">3月29日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月30日-天气-阴"><span class="toc-number">22.</span> <span class="toc-text">3月30日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月31日-天气-雨"><span class="toc-number">23.</span> <span class="toc-text">3月31日 天气:雨</span></a></li></ol>
		
		</div>
		
		<a id="more"></a>
<h2 id="3月1日-天气-晴"><a href="#3月1日-天气-晴" class="headerlink" title="3月1日 天气:晴"></a>3月1日 天气:晴</h2><p>想接手去继续搞一下web的项目，但是好像还是搞不定，明天继续加油。<br>今天的工作，主要就是要去删除界面的信息，但是我对html的界面不熟悉，做起来还是磕磕碰碰的。<br>js操作html，以及回调的时候处理逻辑，都要通通熟悉，才能做好界面的处理。<br>上代码，目前初步去做删除的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function">function <span class="title">image_close</span><span class="params">()</span> </span>&#123;</div><div class="line">    $(<span class="string">".img_colse"</span>).on(<span class="string">"click"</span>,function()&#123;</div><div class="line">        var object = $(<span class="keyword">this</span>);</div><div class="line">        layer.confirm(<span class="string">"是否要删除当前文件?"</span>,</div><div class="line">            function () &#123;</div><div class="line">                var parentId = object.parent().attr(<span class="string">"id"</span>);</div><div class="line">                var box = object.parents(<span class="string">".attachDiv"</span>);</div><div class="line">                <span class="comment">//处理身份证</span></div><div class="line">                <span class="keyword">if</span> (parentId == <span class="string">"idCardPict"</span>)&#123;</div><div class="line">                    vmAppRegisterIndex.formParam.idcardUrl = <span class="string">''</span>;</div><div class="line">                    <span class="comment">//清除attchDiv里面的代码</span></div><div class="line">                    box.html(<span class="string">""</span>);</div><div class="line">                    box.next().show();</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//处理附件</span></div><div class="line">                <span class="keyword">if</span> (parentId == <span class="string">"attrPict"</span>)&#123;</div><div class="line">                    var imageSrc = box.find(<span class="string">"img"</span>).attr(<span class="string">"src"</span>);</div><div class="line">                    vmAppRegisterIndex.attrUploadify.forEach(function (el, index) &#123;</div><div class="line">                        <span class="comment">//删除节点</span></div><div class="line">                        <span class="keyword">if</span>(imageSrc == el.url) &#123;</div><div class="line">                            vmAppRegisterIndex.attrUploadify.splice(index, <span class="number">1</span>);</div><div class="line">                            box.hide();</div><div class="line">                            box.next().show();</div><div class="line">                            <span class="keyword">return</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;);</div><div class="line">                &#125;</div><div class="line">                layer.closeAll();</div><div class="line">            &#125;</div><div class="line">        );</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="3月2日-天气-晴"><a href="#3月2日-天气-晴" class="headerlink" title="3月2日 天气:晴"></a>3月2日 天气:晴</h2><p>到了今天，不止怎么的，状态貌似就好起来了。我的思路从隐藏节点到删除节点，好像得到了一点解决。<br>但是，解决了删除，上传又出问题了，我去。<br>上传的话，有一个属性写得有问题。不用这个属性，就是那个属性有问题。</p>
<h2 id="3月3日-天气-晴"><a href="#3月3日-天气-晴" class="headerlink" title="3月3日 天气:晴"></a>3月3日 天气:晴</h2><p>关于页面要隐藏控件，avalon是可以有if语句进行判断的，例如一个图片显示逻辑，在url为空的时候进行隐藏。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ms-<span class="keyword">if</span> = <span class="string">"判断条件"</span></div></pre></td></tr></table></figure>
<p>数据接收问题，页面要写上相应的字段去接收.</p>
<h2 id="3月6日-天气-阴"><a href="#3月6日-天气-阴" class="headerlink" title="3月6日 天气:阴"></a>3月6日 天气:阴</h2><p>修改项目的小bug,比如数据获取不对，ui修改有问题-删除加弹框。</p>
<h2 id="3月7日-天气-阴"><a href="#3月7日-天气-阴" class="headerlink" title="3月7日 天气:阴"></a>3月7日 天气:阴</h2><p>修改批量导入excel中，所有数据的约束更加严谨，不是允许的字段，一律不通过，并且提示相应的字段。<br>修改边栏，不让它具备点击功能了，只是变成指示器的功能。<br>确认的时候，添加必填字段，比如身份证必填，不然不能通过验证。</p>
<p>重点还是说回RN吧。学习到了一点Animted的用法，用于做出一个listview的item。点击就展开隐藏内容。里面的隐藏内容的话，我是用于去展示隐藏的天气信息，隐藏的内容，实际上就是ios那天气的底部信息差不多。<br>我好像在android工程目录下面，发现了好多本地模块。以后要开发针对android的特定功能的时候，先去查询非死不可有没有帮我们实现这玩意。</p>
<h2 id="3月8日-天气-阴"><a href="#3月8日-天气-阴" class="headerlink" title="3月8日 天气:阴"></a>3月8日 天气:阴</h2><ul>
<li>λ表达式主要用于替换以前广泛使用的内部匿名类，各种回调，比如事件响应器、传入Thread类的Runnable<br>说一下今天学习到的lambda表达式内容。之前有了解过匿名函数的使用，今天来看一个更新的用法，如何快速生成<code>interface</code>的实例；<br>首先，得有几个类：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parent</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">        <span class="keyword">this</span>.age = age;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSome</span><span class="params">()</span></span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Boy</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Boy</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(name, age);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSome</span><span class="params">()</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"I am a Boy"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Girl</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Girl</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(name, age);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSome</span><span class="params">()</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"I am a girl"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>接下来是普通的工厂类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Factory</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Parent</span>&gt; </span>&#123;</div><div class="line">    <span class="function">T <span class="title">create</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最后就是，比较两者的区别</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LambdaTest</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">        Factory&lt;Boy&gt; factory = <span class="keyword">new</span> Factory&lt;Boy&gt;() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> Boy <span class="title">create</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Boy(name, age);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">//只要一句，简洁性不言而喻</span></div><div class="line">        Factory&lt;Boy&gt; boyFactory = Boy::<span class="keyword">new</span>;</div><div class="line">        Boy boy1 = boyFactory.create(<span class="string">"Eric"</span>, <span class="number">18</span>);</div><div class="line">        boy1.doSome();</div><div class="line">        Factory&lt;Girl&gt; girlFactory = Girl::<span class="keyword">new</span>;</div><div class="line">        Girl girl1 = girlFactory.create(<span class="string">"Lisa"</span>, <span class="number">18</span>);</div><div class="line">        girl1.doSome();</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3月9日-天气-阴"><a href="#3月9日-天气-阴" class="headerlink" title="3月9日 天气:阴"></a>3月9日 天气:阴</h2><p>不想使用前端，那就使用rn去写es6语法试试。<br>接下来，又接到一点新任务了。那就是加载逻辑出了问题。这个问题，和我当时的rn也是一样。没有数据的时候，干嘛要让界面显示，先给一个圈圈啦。处理初次打开<br>先来问题重现，去设置chrome的开发工具，限定网速。看看网速慢，是否会有那种影响出现。处理得依旧不是很好。<br>下午叫勋爷来看了一下，可能是由于缓存原因，上了一下午的网再去弄，问题就不见了。勋爷说的对，缓存也是一个大坑。</p>
<p>这一段代码呢，就是avalon中，解决加载的时候，空白乱码的情况的。对body中加了controller的地方，直接先隐藏。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">         .ms-controller, .ms-important, [ms-controller], [ms-important] &#123;</div><div class="line">             <span class="attr">visibility</span>: hidden;</div><div class="line">         &#125;</div><div class="line">         .cellTable&#123;</div><div class="line">             <span class="attr">width</span>: <span class="number">100</span>%;height:<span class="number">100</span>%;border-spacing:<span class="number">1</span>px;border: none</div><div class="line">         &#125;</div><div class="line">     &lt;<span class="regexp">/style&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="3月10日-天气-阴"><a href="#3月10日-天气-阴" class="headerlink" title="3月10日 天气:阴"></a>3月10日 天气:阴</h2><p>今天本来安排满满，准备去搞我的android的时间。都用来做前端了。感觉也还行，毕竟都是编程技术，能学一点是一点。<br>下班之前，做出了之前面试的那个方块进度条。</p>
<h2 id="3月13日-天气-阴"><a href="#3月13日-天气-阴" class="headerlink" title="3月13日 天气:阴"></a>3月13日 天气:阴</h2><p>今天去处理一番毕业登记系统，处理了那些ui现实逻辑，以求能够统一。<br>收到消息，可以去做android，还是移动集团的处理内容。</p>
<p>下面还是摘录一下我所看到的android的view中绘制的函数解释。</p>
<ul>
<li><code>invalidate</code>:请求重新绘制，但只会绘制调用者本身。<code>view</code>的<code>setSelection</code>,<code>setVisibility</code>,<code>setEnable</code>方法，会间接调用这个方法，导致view 的重绘。</li>
<li><code>requestLayout</code>方法：会导致调用measure()和layout（）过程，但是不会重新绘制任何视图包括调用者本身。例如<code>setVisiablity</code>，当View的可视状态发生改变，会间接调用<code>requestLayout</code>和<code>invalidate</code>方法。同时整棵View树大小发生了变化，会请求<code>measure</code>和<code>draw</code>过程。</li>
<li><code>requestFocus</code>:请求view树的draw过程，但只重绘<code>需要重绘</code>的视图。</li>
</ul>
<h2 id="3月14日-天气-晴"><a href="#3月14日-天气-晴" class="headerlink" title="3月14日 天气:晴"></a>3月14日 天气:晴</h2><p>处理了提的ui问题，还有上传时，重新上传，第一张被冲掉的尴尬地方。其实，就是改一下思路。选择文件的时候不能添加一个空对象进去，因为uploadify上传给的id不是唯一的，会变得，这样就不能拿这个来做唯一值。解决办法，就是，上传成功后，进行回调的时候，才去add对象进去数组，不就能够解决这个问题了。</p>
<p>新开了一个番茄土豆的项目，慢慢学习着吧。一开始先要去写两个自定控件。底部栏，加上中间的那个指示器。</p>
<p>下面归类一下Android的support注解功能，这里只是收集了几个我认为好玩的注解。</p>
<ul>
<li><code>@Keep</code>注解，避免被混淆</li>
<li><code>@CallSuper</code>注解，重写的时候，要调用超类方法</li>
<li><code>@RequestPermission</code>，为了防止在编译时，权限缺失，在要使用权限的地方，先打上，就能确保编译时候检查配置文件那里有没有声明</li>
<li><code>@Size</code>注解，对于类似数组、集合和字符串之类的参数，我们可以用size注解来表示这些参数的大小。</li>
<li><code>@UiThread</code>注解，还有<code>MainThread</code>，<code>WorkerThread</code>和<code>BinderThread</code>等，表明方法运行在不同的线程环境中</li>
</ul>
<h2 id="3月15日-天气-阴"><a href="#3月15日-天气-阴" class="headerlink" title="3月15日 天气:阴"></a>3月15日 天气:阴</h2><p>今天主要任务还是去搞了一下我那自定义的底部栏。就是，就是，让中间的item，在集体之外，对它进行操作。做到下午，算是基本做出来了。没有了图标，本来是想着去偷的，但是，加入新的知识，使用矢量图去做吧。</p>
<h2 id="3月16日-天气-阴"><a href="#3月16日-天气-阴" class="headerlink" title="3月16日 天气:阴"></a>3月16日 天气:阴</h2><p>看了java虚拟机，明白了一下之前写c调用java的时候，动态去注册java方法那时，使用的类似<code>([II)V</code>这种玩意，就是java的方法描述符。注册的东西，就是函数名称，和它的描述符。</p>
<p>遇到的第一坑，mysql设置了大小写敏感选项。java代码中是使用大写进行查询的，但是数据库中的表名却是小写，那就一直报表不存在的错误。既然找到了问题，那么就应该要有解决方案。我呢，没有权限，只能将这个问题先反馈上去，看看上头是不是会不用大小写了。</p>
<p>以下是我找到的办法。启动mysqlId的时候，多给下面这一串的参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//参数说明 0：名称对比大小写敏感，unix的默认设置，创建的是输入的值； 1：这样，大小写就不敏感了，无论大写，小写，mysql都统一转换成为小写；2：大小写敏感，但是创建的都是小写</span></div><div class="line">lower_case_table_names=<span class="number">1</span></div></pre></td></tr></table></figure>
<p>没办法，服务器那边不肯改了。我只有把数据库先导出来（导出的过程中，发现数据库贼大），然后再导入到我本地那里去。</p>
<p>别人发了dump文件过来，我运行命令行，然后就搞进去了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -uxxxx -pxxxxx db &lt; /Users/lixinkun/Downloads/zsyz_201612.dump</div></pre></td></tr></table></figure>
<p>看了一下新接手的项目，握草，java代码和html，js混编的。不，是serverlet生成html，这。。。。</p>
<h2 id="3月17日-天气-晴"><a href="#3月17日-天气-晴" class="headerlink" title="3月17日 天气:晴"></a>3月17日 天气:晴</h2><p>遇到的第一个坑，就是jq和prototype.js有冲突，大家都是使用美元符号<code>$</code>进行选择。初步解决的办法，就是给jq重命名别名。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $j=jQuery.noConflict();<span class="comment">//重名jq，避免和prototype.js冲突</span></div></pre></td></tr></table></figure>
<p>接下来，后台封装json数据，返回到前台。至于怎么封装呢。<br>分析前端需要的数据，提取，封装，返回。使用集合，然后再转换成为json吧，就这么决定了</p>
<p>纠结json问题的时候，貌似突然就茅塞顿开了。我不用集合，就去使用json一直put。</p>
<p>接下来要爬的另外一个坑，就是先和我的接口进行对接了。</p>
<p>感觉还行吧，万事开头难，开头难。</p>
<h2 id="3月18日-天气-雨"><a href="#3月18日-天气-雨" class="headerlink" title="3月18日 天气:雨"></a>3月18日 天气:雨</h2><p>周末拾遗，继续学习。</p>
<ul>
<li>java使用<code>DatagramSocket</code>代表UDP协议的Socket，DatagramSocket本身只是码头，不维护状态，不能产生IO流，它唯一的作用就是发送和接收数据报。java用DatagramPacket来代表数据报，UDP的socket发送的就是这个数据报。</li>
</ul>
<p>为什么android的view那里会有一个<code>onTouchListener</code>呢？这玩意，就是为了方便在外部去处理view的点击事件。假如你的view是在MainActivity中被引用，你想要某某点击事件效果，设置listener，就不用再view的源码中去设置点击事件了。假如这个view在另外一处地方要用，但是需要的点击事件不同呢，哈哈。</p>
<h2 id="3月19日-天气-雨"><a href="#3月19日-天气-雨" class="headerlink" title="3月19日 天气:雨"></a>3月19日 天气:雨</h2><p>我一直在思考了之前的问题，就是一个如何去给一个view来设置无限循环动画？搜索了一下，原来就是在ObjectAnimator那里，给动画进行设置setRepeatMode(ValueAnimator.INFINITE)。下面个一个例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ObjectAnimator anim = ObjectAnimator.ofFloat(view,<span class="string">""</span>, -<span class="number">6.0f</span>, <span class="number">6.0f</span>, -<span class="number">6.0f</span>);</div><div class="line">anim.setDuration(<span class="number">1500</span>);</div><div class="line">anim.setRepeatCount(ValueAnimator.INFINITY);<span class="comment">//这个才起作用</span></div><div class="line">anim.setRepeatMode(ValueAnimator.INFINITY);<span class="comment">//这个貌似会不起作用哦</span></div><div class="line">anim.start();</div></pre></td></tr></table></figure>
<p>下面来了解一种节省内存的思想。日和避免过多地去生成对象呢？可以将相近，或者有联系的对象，杂糅成为一个对象。比如，在android的view中，MeasureSpec就是使用了这种思想。它把view的Mode和size集成在一起。mode在高2位，size在后面。然后一起组成32位的int值。下面贴一下它们的打包和解包过程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MODE_SHIFT = <span class="number">30</span>;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MODE_MASK = <span class="number">0x3</span> &lt;&lt; MODE_SHIFT;<span class="comment">//1100000000000000000000000000000000</span></div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> UNSPECIFIED = <span class="number">0</span> &lt;&lt; MODE_SHIFT;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> EXACTLY = <span class="number">1</span> &lt;&lt; MODE_SHIFT;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> AMOST = <span class="number">2</span> &lt;&lt; MODE_SHIFT;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">makeMeasureSpec</span><span class="params">(<span class="keyword">int</span> size, <span class="keyword">int</span> mode)</span></span>&#123;</div><div class="line">  <span class="keyword">if</span> (sUseBrokenMakeMeasureSpec) &#123;</div><div class="line">    <span class="keyword">return</span> size + mode;<span class="comment">//如果是已经转换好，直接拼凑</span></div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span> (size &amp; ~MODE_MASK) | (mode &amp; MODE_MASK);<span class="comment">//拼凑在一起</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMode</span><span class="params">(<span class="keyword">int</span> measureSpec)</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> (measureSpec &amp; MODE_MASK);<span class="comment">//取高2位</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">(<span class="keyword">int</span> measureSpec)</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> (measureSpec &amp; ~MODE_MASK);<span class="comment">//取低30位</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当一个子view申请的大小，大于父容器能给的最大大小的时候，那么经过测量，它能够获得的大小就是父容器能给的大小，而不是它理想得到的大小。</p>
<p>只要提供父容器的<code>MeasureSpec</code>和子元素的<code>LayoutParams</code>，就能快速确定出子元素的MeasureSpec了。</p>
<p>更正一个我之前在自定义view中走入的误区，就是让自定义view 支持padding属性的时候，不是在onMeasure那里减去padding的值，而是在draw的时候，减去padding的值。</p>
<p>接下来梳理一下微信支付的流程：</p>
<ul>
<li>用户浏览App，选择下单</li>
<li>服务器处理订单逻辑，开始正式发起支付流程</li>
<li>首先，后台服务器向微信服务器发起请求，获取一个token</li>
<li>后台拿到token，和其他参数进行加密，再次向微信服务器发起请求，获取一个预支付prepayid</li>
<li>后台服务器将该prepayid返回给app客户端</li>
<li>app调用手机上的微信控件，完成支付流程</li>
<li>app向后台发起一个回调请求，通知服务器交易完成</li>
<li>微信服务器处理完所有流程以后，向后台服务器发起一个post请求，正式通知服务器交易完毕</li>
</ul>
<p>回来看了一下项目的解构，我发现了一个问题，就是user_id和userId区别不大吗？那样真的能够取到参数？</p>
<h2 id="3月21日-天气-晴"><a href="#3月21日-天气-晴" class="headerlink" title="3月21日 天气:晴"></a>3月21日 天气:晴</h2><p>实力的方法可以调用本类的类方法。</p>
<ul>
<li>解决单选复选的问题，剩下的问题还有两个，就是判断选中的问题，以及后台参数获取问题。我该，怎么去找到那个参数选中呢</li>
</ul>
<p>java web继续踩坑。上午增加的几个特性就是判断框框选中数量方法进行更新；后台返回了正确的单选多选配置。</p>
<p>参数选中完成，参数值获取完成。改成前台去处理参数，再传到后台进行取值。</p>
<p>和后台对接成功，呈批件提交成功。</p>
<p>两个项目编码不同，也是有坑的。转到一个项目以后，必须切换为它的编码。</p>
<p>js如何判断一串字符全是空格，或者，现在降到如何判断字符串中有空格，就行了。</p>
<p>android拾遗：今天水了一下，在fragment里面创建菜单。创建的菜单，就是能够在activity里面显示</p>
<h2 id="3月22日-天气-阴"><a href="#3月22日-天气-阴" class="headerlink" title="3月22日 天气:阴"></a>3月22日 天气:阴</h2><p>今天做的比较有意义的工作，就是尝试去修改了uploadify.js的源码，将烦人的英文提示改成中文提示。我在源码那里改了，貌似不起作用，因为我们浏览器使用的就是压缩包。。。</p>
<p>java的每一个对象，都可以作为一个对象锁，那么，这个锁究竟是存在哪里呢？答案就是在java对象头中。</p>
<p>从java 1.6开始，为了减少获得锁和释放锁带来的性能损耗，引入了‘偏向锁’和‘轻量级锁’。现在一共有4种状态，依次是：无锁状态、偏向锁状态、轻量级锁状态、重量级锁状态。锁可以升级，但不能降级。</p>
<p>volatile变量是一种更轻量级的同步机制，因为在使用这些变量的时候，不会发生上下文切换和线程调度等操作。但是它有自身的局限：不能用于构建原子的复合操作，因此当一个变量依赖旧值时就不能使用volatile变量</p>
<h2 id="3月23日-天气-阴"><a href="#3月23日-天气-阴" class="headerlink" title="3月23日 天气:阴"></a>3月23日 天气:阴</h2><p>后台对数据库操作，要进行异常捕捉啊，不然返回了错误数据，谁整？<br>后台数据判断，紧跟到前端一样。批量导入要对数据进行比较严格的判断。</p>
<p>数据太长，怎么办？使用title属性，然后截取字符串。鼠标悬浮在上面的时候，就能够显示全文。</p>
<p>我本来想着是怎么去做那个recyclerview右滑删除的，还想着自定义。原来使用ItemTouchHelper进行处理。</p>
<p>在java中，<code>&gt;&gt;&gt;</code>叫做无符号右移。</p>
<p>为什么推荐使用静态工厂类去生成一个对象呢？好处之一就是语义明确。比如说表示一个点的时候，有极坐标的时候怎么办？不可能大家都是用构造器，因为正常的x，y会使用构造器。这事，静态工厂就可以起作用了，给出不同的接口。这样，上层的人用起来，就舒服很多了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Point <span class="title">valueOfPolar</span><span class="params">(k, k)</span></span>&#123;</div><div class="line">  <span class="comment">//进行逻辑转换</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3月27日-天气-阴"><a href="#3月27日-天气-阴" class="headerlink" title="3月27日 天气:阴"></a>3月27日 天气:阴</h2><p>先说主要项目中的工作：关于多选的时候的数据传递到后台。功能已经实现。只是在呈批件中需要这样去设置，那就简单了啊。前台拼凑起数据，和之前的格式一样吧，然后传递到后台进行对接，整个过程，除了找网页花费了一点时间，整体的调试接入也还是花了一点时间。在中午的吃饭之前解决问题。后台又给提了一个需求，说的就是要对那么多的数据进行一个搜索功能，有一个星期的时间，我打算明天才去动手，明天做完。<br>注意一下jq的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>下午去做番茄土豆，番茄土豆啊。搞了一下午。拉了源代码进来，进行了一顿爆改，然后实现了右滑。思路就是先写好布局，然后滑动时候让布局显示出来。adapter中是使用了几种的滑动菜单效果，有滑动一部分的和滑动整个view的，具体的控制逻辑都在onChildDraw中。</p>
<p>布局文件，删除按钮早就在布局中了：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line">&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"</div><div class="line">             android:layout_width="match_parent"</div><div class="line">             android:layout_height="wrap_content"</div><div class="line">             android:background="#FF4444"&gt;</div><div class="line">    &lt;LinearLayout</div><div class="line">        android:id="@+id/view_list_repo_action_container"</div><div class="line">        android:layout_width="wrap_content"</div><div class="line">        android:layout_height="match_parent"</div><div class="line">        android:layout_gravity="left"</div><div class="line">        android:orientation="horizontal"&gt;</div><div class="line"></div><div class="line">        &lt;TextView</div><div class="line">            android:id="@+id/view_list_repo_action_delete"</div><div class="line">            android:layout_width="80dp"</div><div class="line">            android:layout_height="match_parent"</div><div class="line">            android:gravity="center"</div><div class="line">            android:padding="12dp"</div><div class="line">            android:text="Delete"</div><div class="line">            android:textColor="@android:color/white"/&gt;</div><div class="line"></div><div class="line">        &lt;TextView</div><div class="line">            android:id="@+id/view_list_repo_action_update"</div><div class="line">            android:layout_width="80dp"</div><div class="line">            android:layout_height="match_parent"</div><div class="line">            android:background="#8BC34A"</div><div class="line">            android:gravity="center"</div><div class="line">            android:padding="12dp"</div><div class="line">            android:text="Refresh"</div><div class="line">            android:textColor="@android:color/white"/&gt;</div><div class="line"></div><div class="line">    &lt;/LinearLayout&gt;</div><div class="line">    &lt;include</div><div class="line">        android:id="@+id/view_list_main_content"</div><div class="line">        layout="@layout/item_task"/&gt;</div><div class="line">&lt;/FrameLayout&gt;</div></pre></td></tr></table></figure></p>
<p>下面是关键代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">  <span class="comment">//让布局只能在end下面进行滑动</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMovementFlags</span><span class="params">(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder)</span> </span>&#123;</div><div class="line">      <span class="keyword">int</span> dragFlag = ItemTouchHelper.UP | ItemTouchHelper.DOWN;</div><div class="line">      <span class="keyword">int</span> swipeFlags = ItemTouchHelper.END ;</div><div class="line">      <span class="keyword">return</span> makeMovementFlags(dragFlag, swipeFlags);</div><div class="line">  &#125;</div><div class="line"></div><div class="line"><span class="comment">//让隐藏的view显示出来</span></div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onChildDraw</span><span class="params">(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder,</span></span></div><div class="line">          <span class="keyword">float</span> dX, <span class="keyword">float</span> dY, <span class="keyword">int</span> actionState, <span class="keyword">boolean</span> isCurrentlyActive) &#123;</div><div class="line">      PromotoAdapter.ItemBaseViewHolder holder = (PromotoAdapter.ItemBaseViewHolder) viewHolder;</div><div class="line">      <span class="keyword">if</span> (dY != <span class="number">0</span> &amp;&amp; dX == <span class="number">0</span>)&#123;</div><div class="line">          <span class="keyword">super</span>.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (viewHolder <span class="keyword">instanceof</span> PromotoAdapter.ItemSwipeWithActionWidthNoSpringViewHolder)&#123;</div><div class="line">          <span class="keyword">if</span> (dX &gt; holder.mActionContainer.getWidth())&#123;</div><div class="line">              dX = holder.mActionContainer.getWidth();</div><div class="line">          &#125;</div><div class="line">          holder.mViewContent.setTranslationX(dX);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (viewHolder <span class="keyword">instanceof</span> PromotoAdapter.ItemBaseViewHolder)&#123;</div><div class="line">          holder.mViewContent.setTranslationX(dX);</div><div class="line">      &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h2 id="3月28日-天气-阴"><a href="#3月28日-天气-阴" class="headerlink" title="3月28日 天气:阴"></a>3月28日 天气:阴</h2><p>今早做好了搜索框，我选择在js中实现，就是为了代码的复用。然后去处理了加好变减号的指示器联动问题。一开始点击的时候是还行的，但是到了后来就是要去做一下联动，搜索的时候，也能直接变指示器。</p>
<p>pre sessionId = 75F98E47AA0F5BF49B2FAAA45EB5EFDF<br>aft sessionId = 75F98E47AA0F5BF49B2FAAA45EB5EFDF</p>
<p>终于要着手去处理浏览器兼容性的问题了。批量上传的时候，我们需要使用uploadify上传文件。使用火狐浏览器，报了302的错误。搜索一番，就是火狐会再次使用一个新的sessionid，不是旧的，这样就导致验证不成功了。做法就是先去获取到本来的sessionid，在上传的时候再度带过去。传递是传递过去了，但是还是不起作用。我在搜索的时候有看见，后台也是需要改一点东西的。但是我对项目的架构并不是十分地熟悉，就不知道在哪里被过滤了。后来找了同事，他说过滤器那里过滤掉了，不能进行重建。。。。</p>
<h2 id="3月29日-天气-阴"><a href="#3月29日-天气-阴" class="headerlink" title="3月29日 天气:阴"></a>3月29日 天气:阴</h2><p>今早回来，就被人追杀。说程序的兼容有问题，ie使用uploadify上传的时候，爆出406问题。找了一下原因，就是因为数据转回后，没有正确转换成为json，然后在springmvc-servlet中加入了如下代码：text/json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;bean id="fastJsonHttpMessageConverter"</div><div class="line">       class="cn.thinkjoy.qky.graduate.common.QkyFastJsonHttpMessageConverter"&gt;</div><div class="line">     &lt;property name="supportedMediaTypes"&gt;</div><div class="line">         &lt;list&gt;</div><div class="line">             &lt;value&gt;application/json; charset=utf-8&lt;/value&gt;</div><div class="line">             &lt;value&gt;text/json; charset=utf-8&lt;/value&gt;</div><div class="line">         &lt;/list&gt;</div><div class="line">     &lt;/property&gt;</div><div class="line"> &lt;/bean&gt;</div></pre></td></tr></table></figure>
<p>谷歌浏览器使用avalon1.4，不能去获取到中文信息，有这个缺陷，目前只能期待更新版本解决。</p>
<p>bootstrap的代码还是不怎么会用，但是这有什么关系呢，我就是使用空白的div去填充，填充到自己满意为止</p>
<p>将avalon的版本升级到1.58，就能够获取到中文了。</p>
<h2 id="3月30日-天气-阴"><a href="#3月30日-天气-阴" class="headerlink" title="3月30日 天气:阴"></a>3月30日 天气:阴</h2><p>花了一早上去搭建win的环境，烦人。</p>
<p>下午做了两个小时的android，终于把弹窗部分的功能做出来了，还能去进行数据的增加和删除。</p>
<p>快下班时候，把项目部署到正式环境当中了。原来，他们是使用ftp进行文件替换，更新的。</p>
<p>接手几个小bug，原来是一直都有的bug，我也就接手，慢慢去进行改正</p>
<h2 id="3月31日-天气-雨"><a href="#3月31日-天气-雨" class="headerlink" title="3月31日 天气:雨"></a>3月31日 天气:雨</h2><p>昨天上的代码，兼容性有问题，回滚到上一个版本。做好兼容性测试以后再上。导入了新的项目，下午继续弄。先看一个大概。</p>
<p>记录一下js判断输入是否是email的代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">isEmail:<span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> em=<span class="regexp">/^([\w-_]+(?:\.[\w-_]+)*)@((?:[a-z0-9]+(?:-[a-zA-Z0-9]+)*)+\.[a-z]&#123;2,6&#125;)$/i</span>;</div><div class="line">        <span class="keyword">return</span> em.test(str)</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<ul>
<li>线程拥有各自的计数器、堆栈和局部变量等属性，并且能够访问共享的内存变量。</li>
</ul>
<p>也算是一个深坑？数据库没有配好的话，那是简直连exception都不给我抛出。周平也是个深坑，我改好数据库以后，就能够进行操作了</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	<div class="share-jiathis">
	  
<div class="jiathis_style_24x24">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_googleplus"></a>
	<a class="jiathis_button_douban"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
    var jiathis_config={
    data_track_clickback:true,
    sm:"copy,renren,cqq",
    pic:"",
    summary:"",
     ralateuid:{"tsina":"1634073622"},hideMore:false}
    
  </script> 
<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=
2103362" charset="utf-8"></script>      

	 </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/08/10/2017/2017-8月工作笔记/" title="2017-8月工作笔记">
  <strong>上一篇：</strong><br/>
  <span>
  2017-8月工作笔记</span>
</a>
</div>


<div class="next">
<a href="/2017/03/15/2017/2017-2月工作笔记/"  title="2017-2月工作笔记">
 <strong>下一篇：</strong><br/> 
 <span>2017-2月工作笔记
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2017/04/10/2017/2017-3月工作笔记/" data-title="2017-3月工作笔记" data-url="http://yoursite.com/2017/04/10/2017/2017-3月工作笔记/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#3月1日-天气-晴"><span class="toc-number">1.</span> <span class="toc-text">3月1日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月2日-天气-晴"><span class="toc-number">2.</span> <span class="toc-text">3月2日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月3日-天气-晴"><span class="toc-number">3.</span> <span class="toc-text">3月3日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月6日-天气-阴"><span class="toc-number">4.</span> <span class="toc-text">3月6日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月7日-天气-阴"><span class="toc-number">5.</span> <span class="toc-text">3月7日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月8日-天气-阴"><span class="toc-number">6.</span> <span class="toc-text">3月8日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月9日-天气-阴"><span class="toc-number">7.</span> <span class="toc-text">3月9日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月10日-天气-阴"><span class="toc-number">8.</span> <span class="toc-text">3月10日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月13日-天气-阴"><span class="toc-number">9.</span> <span class="toc-text">3月13日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月14日-天气-晴"><span class="toc-number">10.</span> <span class="toc-text">3月14日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月15日-天气-阴"><span class="toc-number">11.</span> <span class="toc-text">3月15日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月16日-天气-阴"><span class="toc-number">12.</span> <span class="toc-text">3月16日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月17日-天气-晴"><span class="toc-number">13.</span> <span class="toc-text">3月17日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月18日-天气-雨"><span class="toc-number">14.</span> <span class="toc-text">3月18日 天气:雨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月19日-天气-雨"><span class="toc-number">15.</span> <span class="toc-text">3月19日 天气:雨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月21日-天气-晴"><span class="toc-number">16.</span> <span class="toc-text">3月21日 天气:晴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月22日-天气-阴"><span class="toc-number">17.</span> <span class="toc-text">3月22日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月23日-天气-阴"><span class="toc-number">18.</span> <span class="toc-text">3月23日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月27日-天气-阴"><span class="toc-number">19.</span> <span class="toc-text">3月27日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月28日-天气-阴"><span class="toc-number">20.</span> <span class="toc-text">3月28日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月29日-天气-阴"><span class="toc-number">21.</span> <span class="toc-text">3月29日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月30日-天气-阴"><span class="toc-number">22.</span> <span class="toc-text">3月30日 天气:阴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3月31日-天气-雨"><span class="toc-number">23.</span> <span class="toc-text">3月31日 天气:雨</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="Eric1235" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/life/" title="life">life<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/work/" title="work">work<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/college/" title="college">college<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/coding/" title="coding">coding<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/me/" title="me">me<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/improve/" title="improve">improve<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/future/" title="future">future<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/android/" title="android">android<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/work-life/" title="-work -life">-work -life<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/study/" title="study">study<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/fight/" title="fight">fight<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/sunshine/" title="sunshine">sunshine<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://weicong.win" target="_blank" title="Weicong Blog">Weicong Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1634073622&verifier=43ce7f75&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Be Fearless <br/>
			Be an Engineer</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/1634073622" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/Eric1235" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/ericli1235" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/lixinkun" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		
		
		
		<a href="https://plus.google.com/Eric1235?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:Eric1235@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="Eric Li">Eric Li</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"ericli"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
